/*!
 * FullCalendar v2.0.0-beta
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)})(function(t,e){function n(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function r(t,e){var n=e.longDateFormat("L");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n}function a(t){o(Ee,t)}function o(e){for(var n=1;arguments.length>n;n++)t.each(arguments[n],function(n,r){t.isPlainObject(r)&&t.isPlainObject(e[n])&&!i(n)?e[n]=o({},e[n],r):void 0!==r&&(e[n]=r)});return e}function i(t){return/(Time|Duration)$/.test(t)}function s(n,r){function a(t){oe?f()&&(w(),m(t)):i()}function i(){ie=te.theme?"ui":"fc",n.addClass("fc"),te.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),te.theme&&n.addClass("ui-widget"),oe=t("<div class='fc-content' />").prependTo(n),re=new l(K,te),ae=re.render(),ae&&n.prepend(ae),h(te.defaultView),te.handleWindowResize&&t(window).resize(T),v()||s()}function s(){setTimeout(function(){!se.start&&v()&&p()},0)}function d(){se&&(Q("viewDestroy",se,se,se.element),se.triggerEventDestroy()),t(window).unbind("resize",T),re.destroy(),oe.remove(),n.removeClass("fc fc-rtl ui-widget")}function f(){return n.is(":visible")}function v(){return t("body").is(":visible")}function h(t){se&&t==se.name||g(t)}function g(e){pe++,se&&(Q("viewDestroy",se,se,se.element),Y(),se.triggerEventDestroy(),$(),se.element.remove(),re.deactivateButton(se.name)),re.activateButton(e),se=new Me[e](t("<div class='fc-view fc-view-"+e+"' />").appendTo(oe),K),p(),V(),pe--}function p(t){se.start&&!t&&de.isWithin(se.intervalStart,se.intervalEnd)||f()&&m(t)}function m(t){pe++,se.start&&(Q("viewDestroy",se,se,se.element),Y(),x()),$(),t&&(de=se.incrementDate(de,t)),se.render(de.clone()),D(),V(),(se.afterRender||C)(),F(),N(),Q("viewRender",se,se,se.element),pe--,M()}function y(){f()&&(Y(),x(),w(),D(),k())}function w(){ce=te.contentHeight?te.contentHeight:te.height?te.height-(ae?ae.height():0)-b(oe):Math.round(oe.width()/Math.max(te.aspectRatio,.5))}function D(){void 0===ce&&w(),pe++,se.setHeight(ce),se.setWidth(oe.width()),pe--,le=n.outerWidth()}function T(){if(!pe)if(se.start){var t=++ge;setTimeout(function(){t==ge&&!pe&&f()&&le!=(le=n.outerWidth())&&(pe++,y(),se.trigger("windowResize",he),pe--)},200)}else s()}function E(){x(),z()}function S(t){x(),k(t)}function k(t){f()&&(se.setEventData(me),se.renderEvents(me,t),se.trigger("eventAfterAllRender"))}function x(){se.triggerEventDestroy(),se.clearEvents(),se.clearEventData()}function M(){!te.lazyFetching||fe(se.start,se.end)?z():k()}function z(){ve(se.start,se.end)}function R(t){me=t,k()}function _(t){S(t)}function F(){re.updateTitle(se.title)}function N(){var t=K.getNow();t.isWithin(se.intervalStart,se.intervalEnd)?re.disableButton("today"):re.enableButton("today")}function W(t,e){se.select(t,e)}function Y(){se&&se.unselect()}function H(){p(-1)}function O(){p(1)}function L(){de.add("years",-1),p()}function Z(){de.add("years",1),p()}function B(){de=K.getNow(),p()}function j(t){de=K.moment(t),p()}function I(){de.add.apply(de,arguments),p()}function q(){return de.clone()}function $(){oe.css({width:"100%",height:oe.height(),overflow:"hidden"})}function V(){oe.css({width:"",height:"",overflow:""})}function X(){return K}function U(){return se}function G(t,e){return void 0===e?te[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(te[t]=e,y()),void 0)}function Q(t,e){return te[t]?te[t].apply(e||he,Array.prototype.slice.call(arguments,2)):void 0}var J,K=this,te=o({},Ee,r);J=te.lang in Se?Se[te.lang]:Se[Ee.lang],J&&(te=o({},Ee,J,r)),te.isRTL&&(te=o({},Ee,ke,J||{},r)),K.options=te,K.render=a,K.destroy=d,K.refetchEvents=E,K.reportEvents=R,K.reportEventChange=_,K.rerenderEvents=S,K.changeView=h,K.select=W,K.unselect=Y,K.prev=H,K.next=O,K.prevYear=L,K.nextYear=Z,K.today=B,K.gotoDate=j,K.incrementDate=I,K.getDate=q,K.getCalendar=X,K.getView=U,K.option=G,K.trigger=Q;var ee=u(e.langData(te.lang));if(te.monthNames&&(ee._months=te.monthNames),te.monthNamesShort&&(ee._monthsShort=te.monthNamesShort),te.dayNames&&(ee._weekdays=te.dayNames),te.dayNamesShort&&(ee._weekdaysShort=te.dayNamesShort),te.firstDay){var ne=u(ee._week);ne.dow=te.firstDay,ee._week=ne}K.defaultAllDayEventDuration=e.duration(te.defaultAllDayEventDuration),K.defaultTimedEventDuration=e.duration(te.defaultTimedEventDuration),K.moment=function(){var t;return t="local"===te.timezone?xe.moment.apply(null,arguments):"UTC"===te.timezone?xe.moment.utc.apply(null,arguments):xe.moment.parseZone.apply(null,arguments),t._lang=ee,t},K.getIsAmbigTimezone=function(){return"local"!==te.timezone&&"UTC"!==te.timezone},K.rezoneDate=function(t){return K.moment(t.toArray())},K.getNow=function(){var t=te.now;return"function"==typeof t&&(t=t()),K.moment(t)},K.calculateWeekNumber=function(t){var e=te.weekNumberCalculation;return"local"==e?t.week():"ISO"==e.toUpperCase()?t.isoWeek():"function"==typeof e?e(t):void 0},K.getEventEnd=function(t){return t.end?t.end.clone():K.getDefaultEventEnd(t.allDay,t.start)},K.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(K.defaultAllDayEventDuration):n.add(K.defaultTimedEventDuration),K.getIsAmbigTimezone()&&n.stripZone(),n},K.formatRange=function(t,e,n){return"function"==typeof n&&(n=n.call(K,te,ee)),P(t,e,n,null,te.isRTL)},K.formatDate=function(t,e){return"function"==typeof e&&(e=e.call(K,te,ee)),A(t,e)},c.call(K,te);var re,ae,oe,ie,se,le,ce,de,ue,fe=K.isFetchNeeded,ve=K.fetchEvents,he=n[0],ge=0,pe=0,me=[];de=null!=te.defaultDate?K.moment(te.defaultDate):K.getNow(),te.droppable&&t(document).bind("dragstart",function(e,n){var r=e.target,a=t(r);if(!a.parents(".fc").length){var o=te.dropAccept;(t.isFunction(o)?o.call(r,a):a.is(o))&&(ue=r,se.dragStart(ue,e,n))}}).bind("dragstop",function(t,e){ue&&(se.dragStop(ue,t,e),ue=null)})}function l(e,n){function r(){f=n.theme?"ui":"fc";var e=n.header;return e?v=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(o("left")).append(o("center")).append(o("right"))):void 0}function a(){v.remove()}function o(r){var a=t("<td class='fc-header-"+r+"'/>"),o=n.header[r];return o&&t.each(o.split(" "),function(r){r>0&&a.append("<span class='fc-header-space'/>");var o;t.each(this.split(","),function(r,i){if("title"==i)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(f+"-corner-right"),o=null;else{var s;if(e[i]?s=e[i]:Me[i]&&(s=function(){v.removeClass(f+"-state-hover"),e.changeView(i)}),s){var l,c=k(n.themeButtonIcons,i),d=k(n.buttonIcons,i),u=k(n.buttonText,i);l=c&&n.theme?"<span class='ui-icon ui-icon-"+c+"'></span>":d&&!n.theme?"<span class='fc-icon fc-icon-"+d+"'></span>":x(u||i);var v=t("<span class='fc-button fc-button-"+i+" "+f+"-state-default'>"+l+"</span>").click(function(){v.hasClass(f+"-state-disabled")||s()}).mousedown(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){v.removeClass(f+"-state-down")}).hover(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){v.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(a);z(v),o||v.addClass(f+"-corner-left"),o=v}}}),o&&o.addClass(f+"-corner-right")}),a}function i(t){v.find("h2").html(t)}function s(t){v.find("span.fc-button-"+t).addClass(f+"-state-active")}function l(t){v.find("span.fc-button-"+t).removeClass(f+"-state-active")}function c(t){v.find("span.fc-button-"+t).addClass(f+"-state-disabled")}function d(t){v.find("span.fc-button-"+t).removeClass(f+"-state-disabled")}var u=this;u.render=r,u.destroy=a,u.updateTitle=i,u.activateButton=s,u.deactivateButton=l,u.disableButton=c,u.enableButton=d;var f,v=t([])}function c(e){function n(t,e){return!T||t.clone().stripZone()<T.clone().stripZone()||e.clone().stripZone()>C.clone().stripZone()}function r(t,e){T=t,C=e,H=[];var n=++_,r=R.length;W=r;for(var o=0;r>o;o++)a(R[o],n)}function a(t,e){o(t,function(n){if(e==_){if(n)for(var r=0;n.length>r;r++){var a=m(n[r],t);a&&H.push(a)}W--,W||k(H)}})}function o(n,r){var a,i,s=xe.sourceFetchers;for(a=0;s.length>a;a++){if(i=s[a].call(D,n,T.clone(),C.clone(),e.timezone,r),i===!0)return;if("object"==typeof i)return o(i,r),void 0}var l=n.events;if(l)t.isFunction(l)?(g(),l.call(D,T.clone(),C.clone(),e.timezone,function(t){r(t),p()})):t.isArray(l)?r(l):r();else{var c=n.url;if(c){var d,u=n.success,f=n.error,v=n.complete;d=t.isFunction(n.data)?n.data():n.data;var h=t.extend({},d||{}),m=N(n.startParam,e.startParam),y=N(n.endParam,e.endParam),b=N(n.timezoneParam,e.timezoneParam);m&&(h[m]=T.format()),y&&(h[y]=C.format()),e.timezone&&"local"!=e.timezone&&(h[b]=e.timezone),g(),t.ajax(t.extend({},ze,n,{data:h,success:function(e){e=e||[];var n=F(u,this,arguments);t.isArray(n)&&(e=n),r(e)},error:function(){F(f,this,arguments),r()},complete:function(){F(v,this,arguments),p()}}))}else r()}}function i(t){t=s(t),t&&(W++,a(t,_))}function s(e){return t.isFunction(e)||t.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e?(y(e),R.push(e),e):void 0}function l(e){R=t.grep(R,function(t){return!b(t,e)}),H=t.grep(H,function(t){return!b(t.source,e)}),k(H)}function c(t){M(t),u(t),k(H)}function u(t){var e,n,r,a;for(e=0;H.length>e;e++)if(n=H[e],n._id==t._id&&n!==t)for(r=0;L.length>r;r++)a=L[r],void 0!==t[a]&&(n[a]=t[a])}function f(t,e){var n=m(t);n&&(n.source||(e&&(z.events.push(n),n.source=z),H.push(n)),k(H))}function v(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}H=t.grep(H,e,!0);for(var r=0;R.length>r;r++)t.isArray(R[r].events)&&(R[r].events=t.grep(R[r].events,e,!0))}else{H=[];for(var r=0;R.length>r;r++)t.isArray(R[r].events)&&(R[r].events=[])}k(H)}function h(e){return t.isFunction(e)?t.grep(H,e):e?(e+="",t.grep(H,function(t){return t._id==e})):H}function g(){Y++||E("loading",null,!0,S())}function p(){--Y||E("loading",null,!1,S())}function m(n,r){var a,o,i,s,l={};return e.eventDataTransform&&(n=e.eventDataTransform(n)),r&&r.eventDataTransform&&(n=r.eventDataTransform(n)),a=D.moment(n.start||n.date),a.isValid()&&(o=null,!n.end||(o=D.moment(n.end),o.isValid()))?(i=n.allDay,void 0===i&&(s=N(r?r.allDayDefault:void 0,e.allDayDefault),i=void 0!==s?s:!(a.hasTime()||o&&o.hasTime())),i?(a.hasTime()&&a.stripTime(),o&&o.hasTime()&&o.stripTime()):(a.hasTime()||(a=D.rezoneDate(a)),o&&!o.hasTime()&&(o=D.rezoneDate(o))),t.extend(l,n),r&&(l.source=r),l._id=n._id||(void 0===n.id?"_fc"+Re++:n.id+""),l.className=n.className?"string"==typeof n.className?n.className.split(/\s+/):n.className:[],l.allDay=i,l.start=a,l.end=o,e.forceEventDuration&&!l.end&&(l.end=x(l)),d(l),l):void 0}function y(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=xe.sourceNormalizers,n=0;e.length>n;n++)e[n].call(D,t)}function b(t,e){return t&&e&&w(t)==w(e)}function w(t){return("object"==typeof t?t.events||t.url:"")||t}var D=this;D.isFetchNeeded=n,D.fetchEvents=r,D.addEventSource=i,D.removeEventSource=l,D.updateEvent=c,D.renderEvent=f,D.removeEvents=v,D.clientEvents=h;var T,C,E=D.trigger,S=D.getView,k=D.reportEvents,x=D.getEventEnd,M=D.mutateEvent,z={events:[]},R=[z],_=0,W=0,Y=0,H=[],O=e.eventSources||[];e.events&&O.push(e.events);for(var A=0;O.length>A;A++)s(O[A]);var L=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function d(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}function u(t){var e=function(){};return e.prototype=t,new e}function f(e,n,r){e.unbind("mouseover").mouseover(function(e){for(var a,o,i,s=e.target;s!=this;)a=s,s=s.parentNode;void 0!==(o=a._fci)&&(a._fci=void 0,i=n[o],r(i.event,i.element,i),t(e.target).trigger(e)),e.stopPropagation()})}function v(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.width(Math.max(0,n-g(a,r)))}function h(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.height(Math.max(0,n-b(a,r)))}function g(t,e){return p(t)+y(t)+(e?m(t):0)}function p(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function m(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function y(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function b(t,e){return w(t)+T(t)+(e?D(t):0)}function w(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function D(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function T(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function C(){}function E(t,e){return t-e}function S(t){return Math.max.apply(Math,t)}function k(t,e){if(void 0!==t[e])return t[e];for(var n,r=e.split(/(?=[A-Z])/),a=r.length-1;a>=0;a--)if(n=t[r[a].toLowerCase()],void 0!==n)return n;return t["default"]}function x(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function M(t){return t.replace(/&.*?;/g,"")}function z(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function R(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function _(t,e){var n=t.source||{},r=t.color,a=n.color,o=e("eventColor"),i=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||o,s=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||o,l=t.textColor||n.textColor||e("eventTextColor"),c=[];return i&&c.push("background-color:"+i),s&&c.push("border-color:"+s),l&&c.push("color:"+l),c.join(";")}function F(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,o;for(a=0;e.length>a;a++)o=e[a].apply(n,r)||o;return o}}function N(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function W(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function Y(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function H(n,r,a){var o,i=1==n.length,s=i&&"string"==typeof n[0],l=i&&t.isArray(n[0]),c=i&&Y(n[0]),d=s&&Fe.test(n[0]),u=d||l||s&&Ne.test(n[0]);return o=r||a||d?e.utc.apply(e,n):e.apply(null,n),d&&(o._ambigTime=!0,o._ambigZone=!0),a&&(u?o._ambigZone=!0:s?o.zone(n[0]):(c||void 0===n[0])&&o.local()),o._fc=!0,o}function O(t,e){return We.call(t,e)}function A(t,e){return L(t,I(e))}function L(t,e){var n,r="";for(n=0;e.length>n;n++)r+=Z(t,e[n]);return r}function Z(t,e){var n,r;return"string"==typeof e?e:(n=e.token)?He[n]?He[n](t):O(t,n):e.maybe&&(r=L(t,e.maybe),r.match(/[1-9]/))?r:""}function P(t,e,n,r,a){return n=t.lang().longDateFormat(n)||n,r=r||" - ",B(t,e,I(n),r,a)}function B(t,e,n,r,a){var o,i,s,l,c="",d="",u="",f="",v="";for(i=0;n.length>i&&(o=j(t,e,n[i]),o!==!1);i++)c+=o;for(s=n.length-1;s>i&&(o=j(t,e,n[s]),o!==!1);s--)d=o+d;for(l=i;s>=l;l++)u+=Z(t,n[l]),f+=Z(e,n[l]);return(u||f)&&(v=a?f+r+u:u+r+f),c+v+d}function j(t,e,n){var r,a;return"string"==typeof n?n:(r=n.token)&&(a=Oe[r.charAt(0)],a&&t.isSame(e,a))?O(t,r):!1}function I(t){return t in Ae?Ae[t]:Ae[t]=q(t)}function q(t){for(var e,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|((\w)\4*o?T?)|([^\w\[\(]+)/g;e=r.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:q(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function $(t,e){function n(t,e){return t.clone().stripTime().add("months",e).startOf("month")}function r(t){a.intervalStart=t.clone().stripTime().startOf("month"),a.intervalEnd=a.intervalStart.clone().add("months",1),a.start=a.intervalStart.clone().startOf("week"),a.start=a.skipHiddenDays(a.start),a.end=a.intervalEnd.clone().add("days",(7-a.intervalEnd.weekday())%7),a.end=a.skipHiddenDays(a.end,-1,!0);var n=Math.ceil(a.end.diff(a.start,"weeks",!0));"fixed"==a.opt("weekMode")&&(a.end.add("weeks",6-n),n=6),a.title=e.formatDate(a.intervalStart,a.opt("titleFormat")),a.renderBasic(n,a.getCellsPerWeek(),!0)}var a=this;a.incrementDate=n,a.render=r,U.call(a,t,e,"month")}function V(t,e){function n(t,e){return t.clone().stripTime().add("weeks",e).startOf("week")}function r(t){a.intervalStart=t.clone().stripTime().startOf("week"),a.intervalEnd=a.intervalStart.clone().add("weeks",1),a.start=a.skipHiddenDays(a.intervalStart),a.end=a.skipHiddenDays(a.intervalEnd,-1,!0),a.title=e.formatRange(a.start,a.end.clone().subtract(1),a.opt("titleFormat")," — "),a.renderBasic(1,a.getCellsPerWeek(),!1)}var a=this;a.incrementDate=n,a.render=r,U.call(a,t,e,"basicWeek")}function X(t,e){function n(t,e){var n=t.clone().stripTime().add("days",e);return n=a.skipHiddenDays(n,0>e?-1:1)}function r(t){a.start=a.intervalStart=t.clone().stripTime(),a.end=a.intervalEnd=a.start.clone().add("days",1),a.title=e.formatDate(a.start,a.opt("titleFormat")),a.renderBasic(1,1,!1)}var a=this;a.incrementDate=n,a.render=r,U.call(a,t,e,"basicDay")}function U(e,n,r){function a(t,e,n){U=t,Q=e,J=n,o(),A||i(),s()}function o(){re=ie("theme")?"ui":"fc",ae=ie("columnFormat"),oe=ie("weekNumbers")}function i(){I=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function s(){var n=l();Y&&Y.remove(),Y=t(n).appendTo(e),H=Y.find("thead"),O=H.find(".fc-day-header"),A=Y.find("tbody"),L=A.find("tr"),Z=A.find(".fc-day"),P=L.find("td:first-child"),B=L.eq(0).find(".fc-day > div"),j=L.eq(0).find(".fc-day-content > div"),R(H.add(H.find("tr"))),R(L),L.eq(0).addClass("fc-first"),L.filter(":last").addClass("fc-last"),Z.each(function(e,n){var r=ue(Math.floor(e/Q),e%Q);se("dayRender",W,r,t(n))}),g(Z)}function l(){var t="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+c()+d()+"</table>";return t}function c(){var t,e,n=re+"-widget-header",r="";for(r+="<thead><tr>",oe&&(r+="<th class='fc-week-number "+n+"'>"+x(ie("weekNumberTitle"))+"</th>"),t=0;Q>t;t++)e=ue(0,t),r+="<th class='fc-day-header fc-"+_e[e.day()]+" "+n+"'>"+x(ge(e,ae))+"</th>";return r+="</tr></thead>"}function d(){var t,e,n,r=re+"-widget-content",a="";for(a+="<tbody>",t=0;U>t;t++){for(a+="<tr class='fc-week'>",oe&&(n=ue(t,0),a+="<td class='fc-week-number "+r+"'>"+"<div>"+x(pe(n))+"</div>"+"</td>"),e=0;Q>e;e++)n=ue(t,e),a+=u(n);a+="</tr>"}return a+="</tbody>"}function u(t){var e=W.intervalStart.month(),r=n.getNow().stripTime(),a="",o=re+"-widget-content",i=["fc-day","fc-"+_e[t.day()],o];return t.month()!=e&&i.push("fc-other-month"),t.isSame(r,"day")?i.push("fc-today",re+"-state-highlight"):r>t?i.push("fc-past"):i.push("fc-future"),a+="<td class='"+i.join(" ")+"'"+" data-date='"+t.format()+"'"+">"+"<div>",J&&(a+="<div class='fc-day-number'>"+t.date()+"</div>"),a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function f(e){$=e;var n,r,a,o=$-H.height();"variable"==ie("weekMode")?n=r=Math.floor(o/(1==U?2:6)):(n=Math.floor(o/U),r=o-n*(U-1)),P.each(function(e,o){U>e&&(a=t(o),a.find("> div").css("min-height",(e==U-1?r:n)-b(a)))})}function h(t){q=t,ee.clear(),ne.clear(),X=0,oe&&(X=H.find("th.fc-week-number").outerWidth()),V=Math.floor((q-X)/Q),v(O.slice(0,-1),V)}function g(t){t.click(p).mousedown(de)}function p(e){if(!ie("selectable")){var r=n.moment(t(this).data("date"));se("dayClick",this,r,e)}}function m(t,e,n){n&&K.build();for(var r=he(t,e),a=0;r.length>a;a++){var o=r[a];g(y(o.row,o.leftCol,o.row,o.rightCol))}}function y(t,n,r,a){var o=K.rect(t,n,r,a,e);return le(o,e)}function w(t){return t.clone().stripTime().add("days",1)}function D(t,e){m(t,e,!0)}function T(){ce()}function C(t,e){var n=fe(t),r=Z[n.row*Q+n.col];se("dayClick",r,t,e)}function E(t,e){te.start(function(t){if(ce(),t){var e=ue(t),r=e.clone().add(n.defaultAllDayEventDuration);m(e,r)}},e)}function S(t,e,n){var r=te.stop();ce(),r&&se("drop",t,ue(r),e,n)}function k(t){return ee.left(t)}function M(t){return ee.right(t)}function _(t){return ne.left(t)}function F(t){return ne.right(t)}function N(t){return L.eq(t)}var W=this;W.renderBasic=a,W.setHeight=f,W.setWidth=h,W.renderDayOverlay=m,W.defaultSelectionEnd=w,W.renderSelection=D,W.clearSelection=T,W.reportDayClick=C,W.dragStart=E,W.dragStop=S,W.getHoverListener=function(){return te},W.colLeft=k,W.colRight=M,W.colContentLeft=_,W.colContentRight=F,W.getIsCellAllDay=function(){return!0},W.allDayRow=N,W.getRowCnt=function(){return U},W.getColCnt=function(){return Q},W.getColWidth=function(){return V},W.getDaySegmentContainer=function(){return I},ve.call(W,e,n,r),be.call(W),ye.call(W),G.call(W);var Y,H,O,A,L,Z,P,B,j,I,q,$,V,X,U,Q,J,K,te,ee,ne,re,ae,oe,ie=W.opt,se=W.trigger,le=W.renderOverlay,ce=W.clearOverlays,de=W.daySelectionMousedown,ue=W.cellToDate,fe=W.dateToCell,he=W.rangeToSegments,n=W.calendar,ge=n.formatDate,pe=n.calculateWeekNumber;z(e.addClass("fc-grid")),K=new we(function(e,n){var r,a,o;O.each(function(e,i){r=t(i),a=r.offset().left,e&&(o[1]=a),o=[a],n[e]=o}),o[1]=a+r.outerWidth(),L.each(function(n,i){U>n&&(r=t(i),a=r.offset().top,n&&(o[1]=a),o=[a],e[n]=o)}),o[1]=a+r.outerHeight()}),te=new De(K),ee=new Ce(function(t){return B.eq(t)}),ne=new Ce(function(t){return j.eq(t)})}function G(){function t(t,e){n.renderDayEvents(t,e)}function e(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=t,n.clearEvents=e,he.call(n)}function Q(t,e){function n(t,e){return t.clone().stripTime().add("weeks",e).startOf("week")}function r(t){a.intervalStart=t.clone().stripTime().startOf("week"),a.intervalEnd=a.intervalStart.clone().add("weeks",1),a.start=a.skipHiddenDays(a.intervalStart),a.end=a.skipHiddenDays(a.intervalEnd,-1,!0),a.title=e.formatRange(a.start,a.end.clone().subtract(1),a.opt("titleFormat")," — "),a.renderAgenda(a.getCellsPerWeek())}var a=this;a.incrementDate=n,a.render=r,ee.call(a,t,e,"agendaWeek")}function J(t,e){function n(t,e){var n=t.clone().stripTime().add("days",e);return n=a.skipHiddenDays(n,0>e?-1:1)}function r(t){a.start=a.intervalStart=t.clone().stripTime(),a.end=a.intervalEnd=a.start.clone().add("days",1),a.title=e.formatDate(a.start,a.opt("titleFormat")),a.renderAgenda(1)}var a=this;a.incrementDate=n,a.render=r,ee.call(a,t,e,"agendaDay")}function K(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function te(t,e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}function ee(n,r,a){function o(t){xe=t,i(),$?l():s()}function i(){We=Le("theme")?"ui":"fc",Ye=Le("isRTL"),Ae=Le("columnFormat"),He=e.duration(Le("minTime")),Oe=e.duration(Le("maxTime")),me=e.duration(Le("slotDuration")),Ee=Le("snapDuration"),Ee=Ee?e.duration(Ee):me}function s(){var r,a,o,i,s=We+"-widget-header",c=We+"-widget-content",d=0==me.asMinutes()%15;for(l(),ee=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Le("allDaySlot")?(re=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ee),r="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+(Le("allDayHTML")||x(Le("allDayText")))+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",ae=t(r).appendTo(ee),oe=ae.find("tr"),y(oe.find("td")),ee.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):re=t([]),ie=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ee),se=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(ie),le=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(se),r="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=e.duration(+He),Me=0;Oe>a;)o=q.start.clone().time(a),i=o.minutes(),r+="<tr class='fc-slot"+Me+" "+(i?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(d&&i?"&nbsp;":x(Ge(o,Le("axisFormat"))))+"</th>"+"<td class='"+c+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",a.add(me),Me++;r+="</tbody></table>",ce=t(r).appendTo(se),w(ce.find("td"))}function l(){var e=c();$&&$.remove(),$=t(e).appendTo(n),V=$.find("thead"),X=V.find("th").slice(1,-1),U=$.find("tbody"),G=U.find("td").slice(0,-1),Q=G.find("> div"),J=G.find(".fc-day-content > div"),K=G.eq(0),te=Q.eq(0),R(V.add(V.find("tr"))),R(U.add(U.find("tr")))}function c(){var t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+d()+u()+"</table>";return t}function d(){var t,e,n,r=We+"-widget-header",a="";for(a+="<thead><tr>",Le("weekNumbers")?(t=Ve(0,0),e=Qe(t),Ye?e+=Le("weekNumberTitle"):e=Le("weekNumberTitle")+e,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+x(e)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;xe>n;n++)t=Ve(0,n),a+="<th class='fc-"+_e[t.day()]+" fc-col"+n+" "+r+"'>"+x(Ge(t,Ae))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function u(){var t,e,n,a,o,i=We+"-widget-header",s=We+"-widget-content",l=r.getNow().stripTime(),c="";for(c+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",e=0;xe>e;e++)t=Ve(0,e),o=["fc-col"+e,"fc-"+_e[t.day()],s],t.isSame(l,"day")?o.push(We+"-state-highlight","fc-today"):l>t?o.push("fc-past"):o.push("fc-future"),a="<td class='"+o.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=a;return c+=n,c+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function f(t){void 0===t&&(t=fe),fe=t,Je={};var e=U.position().top,n=ie.position().top,r=Math.min(t-e,ce.height()+n+1);te.height(r-b(K)),ee.css("top",e),ie.height(r-n-1);var a=ce.find("tr:first").height()+1,o=ce.find("tr:eq(1)").height();Te=(a+o)/2,Se=me/Ee,ke=Te/Se}function g(e){ue=e,Fe.clear(),Ne.clear();var n=V.find("th:first");ae&&(n=n.add(ae.find("th:first"))),n=n.add(ce.find("th:first")),he=0,v(n.width("").each(function(e,n){he=Math.max(he,t(n).outerWidth())}),he);var r=$.find(".fc-agenda-gutter");ae&&(r=r.add(ae.find("th.fc-agenda-gutter")));var a=ie[0].clientWidth;pe=ie.width()-a,pe?(v(r,pe),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),ge=Math.floor((a-he)/xe),v(X.slice(0,-1),ge)}function p(){function t(){ie.scrollTop(n)}var n=H(e.duration(Le("scrollTime")))+1;t(),setTimeout(t,0)}function m(){p()}function y(t){t.click(D).mousedown(qe)}function w(t){t.click(D).mousedown(P)}function D(t){if(!Le("selectable")){var e=Math.min(xe-1,Math.floor((t.pageX-$.offset().left-he)/ge)),n=Ve(0,e),a=this.parentNode.className.match(/fc-slot(\d+)/);if(a){var o=parseInt(a[1]);n.add(He+o*me),n=r.rezoneDate(n),Ze("dayClick",G[e],n,t)}else Ze("dayClick",G[e],n,t)}}function T(t,e,n){n&&ze.build();for(var r=Ue(t,e),a=0;r.length>a;a++){var o=r[a];y(C(o.row,o.leftCol,o.row,o.rightCol))}}function C(t,e,n,r){var a=ze.rect(t,e,n,r,ee);return Pe(a,ee)}function S(t,e){t=t.clone().stripZone(),e=e.clone().stripZone();for(var n=0;xe>n;n++){var r=Ve(0,n),a=r.clone().add("days",1),o=t>r?t:r,i=e>a?a:e;if(i>o){var s=ze.rect(0,n,0,n,se),l=Y(o,r),c=Y(i,r);s.top=l,s.height=c-l,w(Pe(s,se))}}}function k(t){return Fe.left(t)}function M(t){return Ne.left(t)}function _(t){return Fe.right(t)}function F(t){return Ne.right(t)}function N(t){return Le("allDaySlot")&&!t.row}function W(t){var n=Ve(0,t.col),a=t.row;return Le("allDaySlot")&&a--,a>=0&&(n.time(e.duration(He+a*me)),n=r.rezoneDate(n)),n}function Y(t,n){return H(e.duration(t.clone().stripZone()-n.clone().stripTime()))}function H(t){if(He>t)return 0;if(t>=Oe)return ce.height();var e=(t-He)/me,n=Math.floor(e),r=e-n,a=Je[n];void 0===a&&(a=Je[n]=ce.find("tr").eq(n).find("td div")[0].offsetTop);var o=a-1+r*Te;return o=Math.max(o,0)}function O(t){return t.hasTime()?t.clone().add(me):t.clone().add("days",1)}function A(t,e){t.hasTime()||e.hasTime()?L(t,e):Le("allDaySlot")&&T(t,e,!0)}function L(e,n){var r=Le("selectHelper");if(ze.build(),r){var a=Xe(e).col;if(a>=0&&xe>a){var o=ze.rect(0,a,0,a,se),i=Y(e,e),s=Y(n,e);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,t.isFunction(r)){var l=r(e,n);l&&(o.position="absolute",de=t(l).css(o).appendTo(se))}else o.isStart=!0,o.isEnd=!0,de=t($e({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},o)),de.css("opacity",Le("dragOpacity"));de&&(w(de),se.append(de),v(de,o.width,!0),h(de,o.height,!0))}}}else S(e,n)}function Z(){Be(),de&&(de.remove(),de=null)}function P(e){if(1==e.which&&Le("selectable")){Ie(e);var n;Re.start(function(t,e){if(Z(),t&&t.col==e.col&&!N(t)){var r=W(e),a=W(t);n=[r,r.clone().add(Ee),a,a.clone().add(Ee)].sort(E),L(n[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){Re.stop(),n&&(+n[0]==+n[1]&&B(n[0],t),je(n[0],n[3],t))})}}function B(t,e){Ze("dayClick",G[Xe(t).col],t,e)}function j(t,e){Re.start(function(t){if(Be(),t){var e=W(t),n=e.clone();e.hasTime()?(n.add(r.defaultTimedEventDuration),S(e,n)):(n.add(r.defaultAllDayEventDuration),T(e,n))}},e)}function I(t,e,n){var r=Re.stop();Be(),r&&Ze("drop",t,W(r),e,n)}var q=this;q.renderAgenda=o,q.setWidth=g,q.setHeight=f,q.afterRender=m,q.computeDateTop=Y,q.getIsCellAllDay=N,q.allDayRow=function(){return oe},q.getCoordinateGrid=function(){return ze},q.getHoverListener=function(){return Re},q.colLeft=k,q.colRight=_,q.colContentLeft=M,q.colContentRight=F,q.getDaySegmentContainer=function(){return re},q.getSlotSegmentContainer=function(){return le},q.getSlotContainer=function(){return se},q.getRowCnt=function(){return 1},q.getColCnt=function(){return xe},q.getColWidth=function(){return ge},q.getSnapHeight=function(){return ke},q.getSnapDuration=function(){return Ee},q.getSlotHeight=function(){return Te},q.getSlotDuration=function(){return me},q.getMinTime=function(){return He},q.getMaxTime=function(){return Oe},q.defaultSelectionEnd=O,q.renderDayOverlay=T,q.renderSelection=A,q.clearSelection=Z,q.reportDayClick=B,q.dragStart=j,q.dragStop=I,ve.call(q,n,r,a),be.call(q),ye.call(q),ne.call(q);var $,V,X,U,G,Q,J,K,te,ee,re,ae,oe,ie,se,le,ce,de,ue,fe,he,ge,pe,me,Te,Ee,Se,ke,xe,Me,ze,Re,Fe,Ne,We,Ye,He,Oe,Ae,Le=q.opt,Ze=q.trigger,Pe=q.renderOverlay,Be=q.clearOverlays,je=q.reportSelection,Ie=q.unselect,qe=q.daySelectionMousedown,$e=q.slotSegHtml,Ve=q.cellToDate,Xe=q.dateToCell,Ue=q.rangeToSegments,r=q.calendar,Ge=r.formatDate,Qe=r.calculateWeekNumber,Je={};z(n.addClass("fc-agenda")),ze=new we(function(e,n){function r(t){return Math.max(l,Math.min(c,t))}var a,o,i;X.each(function(e,r){a=t(r),o=a.offset().left,e&&(i[1]=o),i=[o],n[e]=i}),i[1]=o+a.outerWidth(),Le("allDaySlot")&&(a=oe,o=a.offset().top,e[0]=[o,o+a.outerHeight()]);for(var s=se.offset().top,l=ie.offset().top,c=l+ie.outerHeight(),d=0;Me*Se>d;d++)e.push([r(s+ke*d),r(s+ke*(d+1))])}),Re=new De(ze),Fe=new Ce(function(t){return Q.eq(t)}),Ne=new Ce(function(t){return J.eq(t)})}function ne(){function n(t,e){var n,r=t.length,o=[],s=[];for(n=0;r>n;n++)t[n].allDay?o.push(t[n]):s.push(t[n]);p("allDaySlot")&&(V(o,e),T()),i(a(s),e)}function r(){C().empty(),E().empty()}function a(t){var e,n,r,a,i,s=N(),l=X(),c=U(),d=[];for(n=0;s>n;n++)for(e=F(0,n),i=o(t,e.clone().time(l),e.clone().time(c)),i=re(i),r=0;i.length>r;r++)a=i[r],a.col=n,d.push(a);return d}function o(t,e,n){e=e.clone().stripZone(),n=n.clone().stripZone();var r,a,o,i,s,l,c,d,u=[],f=t.length;for(r=0;f>r;r++)a=t[r],o=a.start.clone().stripZone(),i=K(a).stripZone(),i>e&&n>o&&(e>o?(s=e.clone(),c=!1):(s=o,c=!0),i>n?(l=n.clone(),d=!1):(l=i,d=!0),u.push({event:a,start:s,end:l,isStart:c,isEnd:d}));return u.sort(fe)}function i(e,n){var r,a,o,i,c,d,u,v,h,y,w,D,T,C,S,x,M=e.length,_="",F=E(),N=p("isRTL");for(r=0;M>r;r++)a=e[r],o=a.event,i=k(a.start,a.start),c=k(a.end,a.start),d=z(a.col),u=R(a.col),v=u-d,u-=.025*v,v=u-d,h=v*(a.forwardCoord-a.backwardCoord),p("slotEventOverlap")&&(h=Math.max(2*(h-10),h)),N?(w=u-a.backwardCoord*v,y=w-h):(y=d+a.backwardCoord*v,w=y+h),y=Math.max(y,d),w=Math.min(w,u),h=w-y,a.top=i,a.left=y,a.outerWidth=h,a.outerHeight=c-i,_+=s(o,a);for(F[0].innerHTML=_,D=F.children(),r=0;M>r;r++)a=e[r],o=a.event,T=t(D[r]),C=m("eventRender",o,o,T),C===!1?T.remove():(C&&C!==!0&&(T.remove(),T=t(C).css({position:"absolute",top:a.top,left:a.left}).appendTo(F)),a.element=T,o._id===n?l(o,T,a):T[0]._fci=r,Z(o,T));
for(f(F,e,l),r=0;M>r;r++)a=e[r],(T=a.element)&&(a.vsides=b(T,!0),a.hsides=g(T,!0),S=T.find(".fc-event-title"),S.length&&(a.contentTop=S[0].offsetTop));for(r=0;M>r;r++)a=e[r],(T=a.element)&&(T[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px",x=Math.max(0,a.outerHeight-a.vsides),T[0].style.height=x+"px",o=a.event,void 0!==a.contentTop&&10>x-a.contentTop&&(T.find("div.fc-event-time").text(Q(o.start,p("timeFormat"))+" - "+o.title),T.find("div.fc-event-title").remove()),m("eventAfterRender",o,o,T))}function s(t,e){var n="<",r=t.url,a=_(t,p),o=["fc-event","fc-event-vert"];return y(t)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(t.className),t.source&&(o=o.concat(t.source.className||[])),n+=r?"a href='"+x(t.url)+"'":"div",n+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+e.top+"px;"+"left:"+e.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>",n+=t.end?x(J(t.start,t.end,p("timeFormat"))):x(Q(t.start,p("timeFormat"))),n+="</div><div class='fc-event-title'>"+x(t.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",e.isEnd&&w(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function l(t,e,n){var r=e.find("div.fc-event-time");y(t)&&d(t,e,r),n.isEnd&&w(t)&&u(t,e,r),D(t,e)}function c(t,n,r){function a(){c||(n.width(o).height("").draggable("option","grid",null),c=!0)}var o,i,s,l=r.isStart,c=!0,d=S(),u=W(),f=X(),v=A(),g=O(),y=H(),b=Y();n.draggable({opacity:p("dragOpacity","month"),revertDuration:p("dragRevertDuration"),start:function(e,r){m("eventDragStart",n,t,e,r),B(t,n),o=n.width(),d.start(function(e,r){if($(),e){i=!1;var o=F(0,r.col),d=F(0,e.col);s=d.diff(o,"days"),e.row?l?c&&(n.width(u-10),h(n,G.defaultTimedEventDuration/v*g),n.draggable("option","grid",[u,1]),c=!1):i=!0:(q(t.start.clone().add("days",s),K(t).add("days",s)),a()),i=i||c&&!s}else a(),i=!0;n.draggable("option","revert",i)},e,"drag")},stop:function(r,o){if(d.stop(),$(),m("eventDragStop",n,t,r,o),i)a(),n.css("filter",""),P(t,n);else{var l,u,v=t.start.clone().add("days",s);c||(u=Math.round((n.offset().top-L().offset().top)/b),l=e.duration(f+u*y),v=G.rezoneDate(v.clone().time(l))),j(this,t,v,r,o)}}})}function d(t,e,n){function r(){$(),s&&(c?(n.hide(),e.draggable("option","grid",null),q(b,w)):(a(),n.css("display",""),e.draggable("option","grid",[C,E])))}function a(){var e;b&&(e=t.end?J(b,w,p("timeFormat")):Q(b,p("timeFormat")),n.text(e))}var o,i,s,l,c,d,u,f,h,g,y,b,w,D=v.getCoordinateGrid(),T=N(),C=W(),E=Y(),S=H();e.draggable({scroll:!1,grid:[C,E],axis:1==T?"y":!1,opacity:p("dragOpacity"),revertDuration:p("dragRevertDuration"),start:function(n,r){m("eventDragStart",e,t,n,r),B(t,e),D.build(),o=e.position(),i=D.cell(n.pageX,n.pageY),s=l=!0,c=d=M(i),u=f=0,h=0,g=y=0,b=null,w=null},drag:function(n,a){var v=D.cell(n.pageX,n.pageY);if(s=!!v){if(c=M(v),u=Math.round((a.position.left-o.left)/C),u!=f){var p=F(0,i.col),m=i.col+u;m=Math.max(0,m),m=Math.min(T-1,m);var k=F(0,m);h=k.diff(p,"days")}c||(g=Math.round((a.position.top-o.top)/E))}(s!=l||c!=d||u!=f||g!=y)&&(c?(b=t.start.clone().stripTime().add("days",h),w=b.clone().add(G.defaultAllDayEventDuration)):(b=t.start.clone().add(g*S).add("days",h),w=K(t).add(g*S).add("days",h)),r(),l=s,d=c,f=u,y=g),e.draggable("option","revert",!s)},stop:function(n,a){$(),m("eventDragStop",e,t,n,a),s&&(c||h||g)?j(this,t,b,n,a):(s=!0,c=!1,u=0,h=0,g=0,r(),e.css("filter",""),e.css(o),P(t,e))}})}function u(t,e,n){var r,a,o,i=Y(),s=H();e.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(n,o){r=a=0,B(t,e),m("eventResizeStart",this,t,n,o)},resize:function(l,c){if(r=Math.round((Math.max(i,e.height())-c.originalSize.height)/i),r!=a){o=K(t).add(s*r);var d;d=r||t.end?J(t.start,o,p("timeFormat")):Q(t.start,p("timeFormat")),n.text(d),a=r}},stop:function(n,a){m("eventResizeStop",this,t,n,a),r?I(this,t,o,n,a):P(t,e)}})}var v=this;v.renderEvents=n,v.clearEvents=r,v.slotSegHtml=s,he.call(v);var p=v.opt,m=v.trigger,y=v.isEventDraggable,w=v.isEventResizable,D=v.eventElementHandlers,T=v.setHeight,C=v.getDaySegmentContainer,E=v.getSlotSegmentContainer,S=v.getHoverListener,k=v.computeDateTop,M=v.getIsCellAllDay,z=v.colContentLeft,R=v.colContentRight,F=v.cellToDate,N=v.getColCnt,W=v.getColWidth,Y=v.getSnapHeight,H=v.getSnapDuration,O=v.getSlotHeight,A=v.getSlotDuration,L=v.getSlotContainer,Z=v.reportEventElement,P=v.showEvents,B=v.hideEvents,j=v.eventDrop,I=v.eventResize,q=v.renderDayOverlay,$=v.clearOverlays,V=v.renderDayEvents,X=v.getMinTime,U=v.getMaxTime,G=v.calendar,Q=G.formatDate,J=G.formatRange,K=G.getEventEnd;v.draggableDayEvent=c}function re(t){var e,n=ae(t),r=n[0];if(oe(n),r){for(e=0;r.length>e;e++)ie(r[e]);for(e=0;r.length>e;e++)se(r[e],0,0)}return le(n)}function ae(t){var e,n,r,a=[];for(e=0;t.length>e;e++){for(n=t[e],r=0;a.length>r&&ce(n,a[r]).length;r++);(a[r]||(a[r]=[])).push(n)}return a}function oe(t){var e,n,r,a,o;for(e=0;t.length>e;e++)for(n=t[e],r=0;n.length>r;r++)for(a=n[r],a.forwardSegs=[],o=e+1;t.length>o;o++)ce(a,t[o],a.forwardSegs)}function ie(t){var e,n,r=t.forwardSegs,a=0;if(void 0===t.forwardPressure){for(e=0;r.length>e;e++)n=r[e],ie(n),a=Math.max(a,1+n.forwardPressure);t.forwardPressure=a}}function se(t,e,n){var r,a=t.forwardSegs;if(void 0===t.forwardCoord)for(a.length?(a.sort(ue),se(a[0],e+1,n),t.forwardCoord=a[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),r=0;a.length>r;r++)se(a[r],0,t.forwardCoord)}function le(t){var e,n,r,a=[];for(e=0;t.length>e;e++)for(n=t[e],r=0;n.length>r;r++)a.push(n[r]);return a}function ce(t,e,n){n=n||[];for(var r=0;e.length>r;r++)de(t,e[r])&&n.push(e[r]);return n}function de(t,e){return t.end>e.start&&t.start<e.end}function ue(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||fe(t,e)}function fe(t,e){return t.start-e.start||e.end-e.start-(t.end-t.start)||(t.event.title||"").localeCompare(e.event.title)}function ve(n,r,a){function o(e,n){var r=j[e];return t.isPlainObject(r)&&!i(e)?k(r,n||a):r}function s(t,e){return r.trigger.apply(r,[t,e||A].concat(Array.prototype.slice.call(arguments,2),[A]))}function l(t){var e=t.source||{};return N(t.startEditable,e.startEditable,o("eventStartEditable"),t.editable,e.editable,o("editable"))}function c(t){var e=t.source||{};return N(t.durationEditable,e.durationEditable,o("eventDurationEditable"),t.editable,e.editable,o("editable"))}function u(t){Z={};var e,n,r=t.length;for(e=0;r>e;e++)n=t[e],Z[n._id]?Z[n._id].push(n):Z[n._id]=[n]}function f(){Z={},P={},B=[]}function v(t,e){B.push({event:t,element:e}),P[t._id]?P[t._id].push(e):P[t._id]=[e]}function h(){t.each(B,function(t,e){A.trigger("eventDestroy",e.event,e.event,e.element)})}function g(t,e){e.click(function(n){return e.hasClass("ui-draggable-dragging")||e.hasClass("ui-resizable-resizing")?void 0:s("eventClick",this,t,n)}).hover(function(e){s("eventMouseover",this,t,e)},function(e){s("eventMouseout",this,t,e)})}function p(t,e){y(t,e,"show")}function m(t,e){y(t,e,"hide")}function y(t,e,n){var r,a=P[t._id],o=a.length;for(r=0;o>r;r++)e&&a[r][0]==e[0]||a[r][n]()}function b(t,e,n,r,a){var o=D(e,n,null);s("eventDrop",t,e,function(){o(),L(e._id)},r,a),L(e._id)}function w(t,e,n,r,a){var o=D(e,null,n);s("eventResize",t,e,function(){o(),L(e._id)},r,a),L(e._id)}function D(t,e,n){var a,o,i,s=t._allDay,l=t._start,c=t._end,d=!1;return e||n||(e=t.start,n=t.end),a=t.allDay!=s?t.allDay:!(e||n).hasTime(),a&&(e&&(e=e.clone().stripTime()),n&&(n=n.clone().stripTime())),e&&(o=a?W(e,l.clone().stripTime()):W(e,l)),a!=s?d=!0:n&&(i=W(n||r.getDefaultEventEnd(a,e||l),e||l).subtract(W(c||r.getDefaultEventEnd(s,l),l))),T(Z[t._id],d,a,o,i)}function T(e,n,a,o,i){var s=r.getIsAmbigTimezone(),l=[];return t.each(e,function(t,e){var c=e._allDay,u=e._start,f=e._end,v=null!=a?a:c,h=u.clone(),g=!n&&f?f.clone():null;v?(h.stripTime(),g&&g.stripTime()):(h.hasTime()||(h=r.rezoneDate(h)),g&&!g.hasTime()&&(g=r.rezoneDate(g))),g||!j.forceEventDuration&&!+i||(g=r.getDefaultEventEnd(v,h)),h.add(o),g&&g.add(o).add(i),s&&(+o&&h.stripZone(),g&&(+o||+i)&&g.stripZone()),e.allDay=v,e.start=h,e.end=g,d(e),l.push(function(){e.allDay=c,e.start=u,e.end=f,d(e)})}),function(){for(var t=0;l.length>t;t++)l[t]()}}function C(t){return e.isMoment(t)&&(t=t.day()),V[t]}function E(){return q}function S(t,e,n){var r=t.clone();for(e=e||1;V[(r.day()+(n?e:0)+7)%7];)r.add("days",e);return r}function x(){var t=M.apply(null,arguments),e=z(t),n=R(e);return n}function M(t,e){var n=A.getColCnt(),r=G?-1:1,a=G?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var o=t*n+(e*r+a);return o}function z(t){var e=A.start.day();return t+=X[e],7*Math.floor(t/q)+U[(t%q+q)%q]-e}function R(t){return A.start.clone().add("days",t)}function _(t){var e=F(t),n=Y(e),r=H(n);return r}function F(t){return t.clone().stripTime().diff(A.start,"days")}function Y(t){var e=A.start.day();return t+=e,Math.floor(t/7)*q+X[(t%7+7)%7]-X[e]}function H(t){var e=A.getColCnt(),n=G?-1:1,r=G?e-1:0,a=Math.floor(t/e),o=(t%e+e)%e*n+r;return{row:a,col:o}}function O(t,e){var n=A.getRowCnt(),r=A.getColCnt(),a=[],o=F(t),i=F(e);e.time()>I&&i++,i=Math.max(i,o+1);for(var s=Y(o),l=Y(i)-1,c=0;n>c;c++){var d=c*r,u=d+r-1,f=Math.max(s,d),v=Math.min(l,u);if(v>=f){var h=H(f),g=H(v),p=[h.col,g.col].sort(),m=z(f)==o,y=z(v)+1==i;a.push({row:c,leftCol:p[0],rightCol:p[1],isStart:m,isEnd:y})}}return a}var A=this;A.element=n,A.calendar=r,A.name=a,A.opt=o,A.trigger=s,A.isEventDraggable=l,A.isEventResizable=c,A.setEventData=u,A.clearEventData=f,A.reportEventElement=v,A.triggerEventDestroy=h,A.eventElementHandlers=g,A.showEvents=p,A.hideEvents=m,A.eventDrop=b,A.eventResize=w,A.mutateEvent=D;var L=r.reportEventChange;r.getEventEnd;var Z={},P={},B=[],j=r.options,I=e.duration(j.nextDayThreshold);A.isHiddenDay=C,A.skipHiddenDays=S,A.getCellsPerWeek=E,A.dateToCell=_,A.dateToDayOffset=F,A.dayOffsetToCellOffset=Y,A.cellOffsetToCell=H,A.cellToDate=x,A.cellToCellOffset=M,A.cellOffsetToDayOffset=z,A.dayOffsetToDate=R,A.rangeToSegments=O;var q,$=o("hiddenDays")||[],V=[],X=[],U=[],G=o("isRTL");(function(){o("weekends")===!1&&$.push(0,6);for(var e=0,n=0;7>e;e++)X[e]=n,V[e]=-1!=t.inArray(e,$),V[e]||(U[n]=e,n++);if(q=n,!q)throw"invalid hiddenDays"})()}function he(){function e(t,e){var n=r(t,!1,!0);pe(n,function(t,e){R(t.event,e)}),y(n,e),pe(n,function(t,e){E("eventAfterRender",t.event,t.event,e)})}function n(t,e,n){var a=r([t],!0,!1),o=[];return pe(a,function(t,r){t.row===e&&r.css("top",n),o.push(r[0])}),o}function r(e,n,r){var o,l,u=I(),f=n?t("<div/>"):u,v=a(e);return i(v),o=s(v),f[0].innerHTML=o,l=f.children(),n&&u.append(l),c(v,l),pe(v,function(t,e){t.hsides=g(e,!0)}),pe(v,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),pe(v,function(t,e){t.outerHeight=e.outerHeight(!0)}),d(v,r),v}function a(t){for(var e=[],n=0;t.length>n;n++){var r=o(t[n]);e.push.apply(e,r)}return e}function o(t){for(var e=U(t.start,ne(t)),n=0;e.length>n;n++)e[n].event=t;return e}function i(t){for(var e=C("isRTL"),n=0;t.length>n;n++){var r=t[n],a=(e?r.isEnd:r.isStart)?B:Z,o=(e?r.isStart:r.isEnd)?j:P,i=a(r.leftCol),s=o(r.rightCol);r.left=i,r.outerWidth=s-i}}function s(t){for(var e="",n=0;t.length>n;n++)e+=l(t[n]);return e}function l(t){var e="",n=C("isRTL"),r=t.event,a=r.url,o=["fc-event","fc-event-hori"];k(r)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[]));var i=_(r,C);return e+=a?"<a href='"+x(a)+"'":"<div",e+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+t.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&t.isStart&&(e+="<span class='fc-event-time'>"+x(re(r.start,C("timeFormat")))+"</span>"),e+="<span class='fc-event-title'>"+x(r.title||"")+"</span>"+"</div>",r.allDay&&t.isEnd&&M(r)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),e+="</"+(a?"a":"div")+">"}function c(e,n){for(var r=0;e.length>r;r++){var a=e[r],o=a.event,i=n.eq(r),s=E("eventRender",o,o,i);s===!1?i.remove():(s&&s!==!0&&(s=t(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}}function d(t,e){var n=u(t),r=m(),a=[];if(e)for(var o=0;r.length>o;o++)r[o].height(n[o]);for(var o=0;r.length>o;o++)a.push(r[o].position().top);pe(t,function(t,e){e.css("top",a[t.row]+t.top)})}function u(t){for(var e=O(),n=A(),r=[],a=v(t),o=0;e>o;o++){for(var i=a[o],s=[],l=0;n>l;l++)s.push(0);for(var c=0;i.length>c;c++){var d=i[c];d.top=S(s.slice(d.leftCol,d.rightCol+1));for(var l=d.leftCol;d.rightCol>=l;l++)s[l]=d.top+d.outerHeight}r.push(S(s))}return r}function v(t){var e,n,r,a=O(),o=[];for(e=0;t.length>e;e++)n=t[e],r=n.row,n.element&&(o[r]?o[r].push(n):o[r]=[n]);for(r=0;a>r;r++)o[r]=h(o[r]||[]);return o}function h(t){for(var e=[],n=p(t),r=0;n.length>r;r++)e.push.apply(e,n[r]);return e}function p(t){t.sort(me);for(var e=[],n=0;t.length>n;n++){for(var r=t[n],a=0;e.length>a&&ge(r,e[a]);a++);e[a]?e[a].push(r):e[a]=[r]}return e}function m(){var t,e=O(),n=[];for(t=0;e>t;t++)n[t]=L(t).find("div.fc-day-content > div");return n}function y(t,e){var n=I();pe(t,function(t,n,r){var a=t.event;a._id===e?b(a,n,t):n[0]._fci=r}),f(n,t,b)}function b(t,e,n){k(t)&&T.draggableDayEvent(t,e,n),t.allDay&&n.isEnd&&M(t)&&T.resizableDayEvent(t,e,n),F(t,e)}function w(t,e){var n,r,a=X();e.draggable({delay:50,opacity:C("dragOpacity"),revertDuration:C("dragRevertDuration"),start:function(o,i){E("eventDragStart",e,t,o,i),W(t,e),a.start(function(a,o,i,s){if(e.draggable("option","revert",!a||!i&&!s),$(),a){var l=G(o),c=G(a);n=c.diff(l,"days"),r=t.start.clone().add("days",n),q(r,ne(t).add("days",n))}else n=0},o,"drag")},stop:function(o,i){a.stop(),$(),E("eventDragStop",e,t,o,i),n?Y(this,t,r,o,i):(e.css("filter",""),N(t,e))}})}function D(e,r,a){var o=C("isRTL"),i=o?"w":"e",s=r.find(".ui-resizable-"+i),l=!1;z(r),r.mousedown(function(t){t.preventDefault()}).click(function(t){l&&(t.preventDefault(),t.stopImmediatePropagation())}),s.mousedown(function(o){function s(n){E("eventResizeStop",this,e,n),t("body").css("cursor",""),c.stop(),$(),d&&H(this,e,u,n),setTimeout(function(){l=!1},0)}if(1==o.which){l=!0;var c=X();O(),A();var d,u,f,v=r.css("top"),h=t.extend({},e),g=te(K(e.start));V(),t("body").css("cursor",i+"-resize").one("mouseup",s),E("eventResizeStart",this,e,o),c.start(function(r,o){if(r){var s=Q(o),l=Q(r);if(l=Math.max(l,g),d=J(l)-J(s),u=ne(e).add("days",d),d){h.end=u;var c=f;f=n(h,a.row,v),f=t(f),f.find("*").css("cursor",i+"-resize"),c&&c.remove(),W(e)}else f&&(N(e),f.remove(),f=null);$(),q(e.start,u)}},o)}})}var T=this;T.renderDayEvents=e,T.draggableDayEvent=w,T.resizableDayEvent=D;var C=T.opt,E=T.trigger,k=T.isEventDraggable,M=T.isEventResizable,R=T.reportEventElement,F=T.eventElementHandlers,N=T.showEvents,W=T.hideEvents,Y=T.eventDrop,H=T.eventResize,O=T.getRowCnt,A=T.getColCnt;T.getColWidth;var L=T.allDayRow,Z=T.colLeft,P=T.colRight,B=T.colContentLeft,j=T.colContentRight;T.dateToCell;var I=T.getDaySegmentContainer,q=T.renderDayOverlay,$=T.clearOverlays,V=T.clearSelection,X=T.getHoverListener,U=T.rangeToSegments,G=T.cellToDate,Q=T.cellToCellOffset,J=T.cellOffsetToDayOffset,K=T.dateToDayOffset,te=T.dayOffsetToCellOffset,ee=T.calendar,ne=ee.getEventEnd,re=ee.formatDate}function ge(t,e){for(var n=0;e.length>n;n++){var r=e[n];if(r.leftCol<=t.rightCol&&r.rightCol>=t.leftCol)return!0}return!1}function pe(t,e){for(var n=0;t.length>n;n++){var r=t[n],a=r.element;a&&e(r,a,n)}}function me(t,e){return e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function ye(){function e(t,e){n(),t=i.moment(t),e=e?i.moment(e):c(t),d(t,e),r(t,e)}function n(t){f&&(f=!1,u(),l("unselect",null,t))}function r(t,e,n){f=!0,l("select",null,t,e,n)}function a(e){var a=o.cellToDate,i=o.getIsCellAllDay,l=o.getHoverListener(),c=o.reportDayClick;if(1==e.which&&s("selectable")){n(e);var f;l.start(function(t,e){u(),t&&i(t)?(f=[a(e),a(t)].sort(E),d(f[0],f[1].clone().add("days",1))):f=null},e),t(document).one("mouseup",function(t){l.stop(),f&&(+f[0]==+f[1]&&c(f[0],t),r(f[0],f[1].clone().add("days",1),t))})}}var o=this;o.select=e,o.unselect=n,o.reportSelection=r,o.daySelectionMousedown=a;var i=o.calendar,s=o.opt,l=o.trigger,c=o.defaultSelectionEnd,d=o.renderSelection,u=o.clearSelection,f=!1;s("selectable")&&s("unselectAuto")&&t(document).mousedown(function(e){var r=s("unselectCancel");r&&t(e.target).parents(r).length||n(e)})}function be(){function e(e,n){var r=o.shift();return r||(r=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(e).show()),r}function n(){for(var t;t=a.shift();)o.push(t.hide().unbind())}var r=this;r.renderOverlay=e,r.clearOverlays=n;var a=[],o=[]}function we(t){var e,n,r=this;r.build=function(){e=[],n=[],t(e,n)},r.cell=function(t,r){var a,o=e.length,i=n.length,s=-1,l=-1;for(a=0;o>a;a++)if(r>=e[a][0]&&e[a][1]>r){s=a;break}for(a=0;i>a;a++)if(t>=n[a][0]&&n[a][1]>t){l=a;break}return s>=0&&l>=0?{row:s,col:l}:null},r.rect=function(t,r,a,o,i){var s=i.offset();return{top:e[t][0]-s.top,left:n[r][0]-s.left,width:n[o][1]-n[r][0],height:e[a][1]-e[t][0]}}}function De(e){function n(t){Te(t);var n=e.cell(t.pageX,t.pageY);(!n!=!i||n&&(n.row!=i.row||n.col!=i.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),i=n)}var r,a,o,i,s=this;s.start=function(s,l,c){a=s,o=i=null,e.build(),n(l),r=c||"mousemove",t(document).bind(r,n)},s.stop=function(){return t(document).unbind(r,n),i}}function Te(t){void 0===t.pageX&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function Ce(t){function e(e){return r[e]=r[e]||t(e)}var n=this,r={},a={},o={};n.left=function(t){return a[t]=void 0===a[t]?e(t).position().left:a[t]},n.right=function(t){return o[t]=void 0===o[t]?n.left(t)+e(t).width():o[t]},n.clear=function(){r={},a={},o={}}}var Ee={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:r,day:"dddd"},timeFormat:{"default":n},isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},Se={en:{columnFormat:{week:"ddd M/D"}}},ke={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},xe=t.fullCalendar={version:"2.0.0-beta"},Me=xe.views={};t.fn.fullCalendar=function(e){if("string"==typeof e){var n,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=t.data(this,"fullCalendar");if(a&&t.isFunction(a[e])){var o=a[e].apply(a,r);void 0===n&&(n=o),"destroy"==e&&t.removeData(this,"fullCalendar")}}),void 0!==n?n:this}return this.each(function(n,r){var a=t(r),o=new s(a,e);a.data("fullCalendar",o),o.render()}),this},xe.langs=Se,xe.datepickerLang=function(e,n,r){var a=Se[e];a||(a=Se[e]={}),o(a,{isRTL:r.isRTL,weekNumberTitle:r.weekHeader,titleFormat:{month:r.showMonthAfterYear?"YYYY["+r.yearSuffix+"] MMMM":"MMMM YYYY["+r.yearSuffix+"]"},buttonText:{prev:M(r.prevText),next:M(r.nextText),today:M(r.currentText)}}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=r,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(r))},xe.lang=function(t,e){var n;e&&(n=Se[t],n||(n=Se[t]={}),o(n,e||{})),Ee.lang=t},xe.sourceNormalizers=[],xe.sourceFetchers=[];var ze={dataType:"json",cache:!1},Re=1;xe.applyAll=F;var _e=["sun","mon","tue","wed","thu","fri","sat"],Fe=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))$/,Ne=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,We=e.fn.format,Ye=e.fn.toISOString;xe.moment=function(){return H(arguments)},xe.moment.utc=function(){return H(arguments,!0)},xe.moment.parseZone=function(){return H(arguments,!0,!0)},e.fn.time=function(t){return void 0===t?e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}):(delete this._ambigTime,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t)),this.hours(t.hours()+24*t.days()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds()))},e.fn.stripTime=function(){var t=this.toArray();return this._ambigTime=!0,this._ambigZone=!0,this.utc().year(t[0]).month(t[1]).date(t[2]).hours(0).minutes(0).seconds(0).milliseconds(0)},e.fn.hasTime=function(){return!this._ambigTime},e.fn.stripZone=function(){var t=this.toArray();return this._ambigZone=!0,this.utc().year(t[0]).month(t[1]).date(t[2]).hours(t[3]).minutes(t[4]).seconds(t[5]).milliseconds(t[6])},e.fn.hasZone=function(){return!this._ambigZone},e.fn.format=function(){if(!arguments[0]){if(this._ambigTime)return O(this,"YYYY-MM-DD");if(this._ambigZone)return O(this,"YYYY-MM-DD[T]HH:mm:ss")}return this._fc?A(this,arguments[0]):We.apply(this,arguments)},e.fn.toISOString=function(){return this._ambigTime?O(this,"YYYY-MM-DD"):this._ambigZone?O(this,"YYYY-MM-DD[T]HH:mm:ss"):Ye.apply(this,arguments)},e.fn.isWithin=function(t,n){return this>=e(t)&&e(n)>this},t.each(["isBefore","isAfter","isWithin"],function(t,n){var r=e.fn[n],a="isWithin"==n?2:1;e.fn[n]=function(){var t,n;if(this._ambigZone)for(n=0;a>n;n++)"string"==typeof arguments[n]&&(arguments[n]=xe.moment.parseZone(arguments[n]));for(n=0;a>n;n++)e.isMoment(arguments[n])&&arguments[n]._ambigZone!==this._ambigZone&&(t=t||this.clone().stripZone(),arguments[n]=arguments[n].clone().stripZone());return r.apply(t||this,arguments)}});var He={t:function(t){return O(t,"a").charAt(0)},T:function(t){return O(t,"A").charAt(0)}};xe.formatRange=P;var Oe={Y:"year",M:"month",D:"day",d:"day"},Ae={};Me.month=$,Me.basicWeek=V,Me.basicDay=X,a({weekMode:"fixed"}),Me.agendaWeek=Q,Me.agendaDay=J,a({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:K,timeFormat:{agenda:te},dragOpacity:{agenda:.5},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0})});